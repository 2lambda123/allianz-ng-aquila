"use strict";(self.webpackChunkopensource_documentation=self.webpackChunkopensource_documentation||[]).push([[7625],{4359:(Ze,Q,c)=>{c.d(Q,{Zu:()=>Z,Uu:()=>Fe,gg:()=>I,cp:()=>M,_A:()=>Le,lh:()=>Re});var t=c(5e3),y=c(5583),C=c(3191),U=c(449),d=c(1159),m=c(1314),f=c(3252),x=c(8929),W=c(591),w=c(6787),g=c(7625),T=c(2198),S=c(4850),G=c(1059),E=c(2986),k=c(9194),v=c(9209),p=c(9808),F=c(7144),A=c(5423),h=c(3075),N=c(226),V=c(9823),R=c(3412),L=c(3982);const P=["*"],q=["container"];function j(i,s){1&i&&t.GkF(0)}function X(i,s){if(1&i&&(t.TgZ(0,"nx-checkbox",6),t.YNc(1,j,1,0,"ng-container",7),t.qZA()),2&i){const e=t.oxw(),n=t.MAs(6);t.Q6J("checked",e.selected)("disabled",e.disabled),t.xp6(1),t.Q6J("ngTemplateOutlet",n)}}function $(i,s){1&i&&(t.TgZ(0,"span",8),t._UZ(1,"nx-icon",9),t.qZA())}function ee(i,s){1&i&&t.GkF(0)}function te(i,s){if(1&i&&(t.ynx(0),t.YNc(1,ee,1,0,"ng-container",7),t.BQk()),2&i){t.oxw();const e=t.MAs(6);t.xp6(1),t.Q6J("ngTemplateOutlet",e)}}function ne(i,s){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=t.oxw(2);t.xp6(1),t.hij(" ",e._formattedValue," ")}}function oe(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",10)(1,"span",11,12),t.NdJ("cdkObserveContent",function(){return t.CHM(e),t.oxw()._onLabelChange()}),t.Hsn(3),t.qZA(),t.YNc(4,ne,2,1,"ng-container",4),t.qZA()}if(2&i){const e=t.MAs(2),n=t.oxw();t.xp6(4),t.Q6J("ngIf",n._isContentEmpty(e))}}const ie=function(i){return{"nx-dropdown-results__option--selected":i}},le=["panel"],se=["panelBody"],B=["trigger"],H=["filterInput"],re=["defaultClosedDropdownLabel"];function ae(i,s){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Oqu(e.placeholder)}}function de(i,s){1&i&&t.GkF(0)}function ce(i,s){if(1&i&&(t.ynx(0),t.YNc(1,de,1,0,"ng-container",8),t.BQk()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngTemplateOutlet",e.closedDropdownLabel)}}function _e(i,s){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Oqu(e.triggerValue)}}function pe(i,s){if(1&i&&t.YNc(0,_e,2,1,"span",3),2&i){const e=t.oxw();t.Q6J("ngIf",e.triggerValue)}}function he(i,s){if(1&i&&(t.TgZ(0,"div",16),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.label," ")}}function ue(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"span",21),t.NdJ("click",function(){return t.CHM(e),t.oxw(3)._clearFilter()}),t._UZ(1,"nx-icon",22),t.qZA()}}function ge(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",17)(1,"input",18,19),t.NdJ("input",function(o){return t.CHM(e),t.oxw(2)._onFilter(o)}),t.qZA(),t.YNc(3,ue,2,0,"span",20),t.qZA()}if(2&i){const e=t.oxw(2);t.xp6(1),t.ekj("is-filled",!e.isFilterEmpty),t.Q6J("placeholder",e.filterPlaceholder),t.xp6(2),t.Q6J("ngIf",!e.isFilterEmpty)}}function fe(i,s){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"nx-dropdown-item",23),t.NdJ("onSelectionChange",function(o){const r=t.CHM(e).$implicit;return t.oxw(2)._onSelect(o.item,o.isUserInput,r)}),t._uU(2),t.qZA(),t.BQk()}if(2&i){const e=s.$implicit,n=t.oxw(2);t.xp6(1),t.Q6J("nxValue",e.value),t.xp6(1),t.Oqu(n._getLabel(e))}}function me(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",9,10),t.NdJ("keydown",function(o){return t.CHM(e),t.oxw()._handleKeydown(o)}),t.YNc(2,he,2,1,"div",11),t.YNc(3,ge,4,4,"div",12),t.TgZ(4,"div",13,14),t.Hsn(6),t.YNc(7,fe,3,2,"ng-container",15),t.qZA()()}if(2&i){const e=t.oxw();t.ekj("has-filter",e.showFilter)("nx-dropdown__panel--in-outline-field",e._isInOutlineField),t.Q6J("dir",e.dir),t.xp6(2),t.Q6J("ngIf",e.label),t.xp6(1),t.Q6J("ngIf",e.showFilter),t.xp6(1),t.uIk("aria-activedescendant",e._getAriaActiveDescendant())("aria-multiselectable",e.isMultiSelect),t.xp6(3),t.Q6J("ngForOf",e.options)}}function xe(i,s){1&i&&t._UZ(0,"nx-icon",4)}const ve=["itemsList"],Ce=["panelHeader"];function we(i,s){if(1&i&&(t.TgZ(0,"div",12,13),t._uU(2),t.qZA()),2&i){const e=t.oxw(2);t.xp6(2),t.hij(" ",e._overlayLabel," ")}}function be(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",14)(1,"nx-formfield",15)(2,"input",16,17),t.NdJ("ngModelChange",function(o){return t.CHM(e),t.oxw(2)._filterValue=o})("ngModelChange",function(o){return t.CHM(e),t.oxw(2)._onFilterChange(o)}),t.qZA(),t.TgZ(4,"nx-icon",18),t.NdJ("click",function(){return t.CHM(e),t.oxw(2)._clearFilter()}),t.qZA()()()}if(2&i){const e=t.oxw(2);t.xp6(2),t.Q6J("ngModel",e._filterValue)("placeholder",e.filterPlaceholder),t.uIk("aria-controls",e._comboboxId)("aria-labelledby",e._getAriaLabelledBy())("aria-activedescendant",e._getAriaActiveDescendant()),t.xp6(2),t.ekj("hidden",!e._filterValue.length)}}function Me(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",19)(1,"nx-checkbox",20),t.NdJ("ngModelChange",function(){return t.CHM(e),t.oxw(2)._onSelectAll()}),t._uU(2," Select all "),t.qZA(),t.TgZ(3,"button",21),t.NdJ("click",function(){return t.CHM(e),t.oxw(2)._clear()}),t._uU(4," Clear all "),t.qZA()()}if(2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngModel",e._allSelected)("indeterminate",e._someSelected),t.xp6(2),t.Q6J("disabled",0===e.selectedItems.size)}}function Oe(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"nx-multi-select-option",22),t.NdJ("selectedChange",function(o){const r=t.CHM(e).$implicit;return t.oxw(2)._onSelect(r,o)}),t.qZA()}if(2&i){const e=s.$implicit,n=t.oxw(2);t.Q6J("value",n._selectValue(e))("label",n._selectLabel(e))("selected",n.selectedItems.has(e))("disabled",n._isDisabled(e))("appearance",n._appearance)}}function ye(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",5),t.NdJ("keydown",function(o){return t.CHM(e),t.oxw()._onKeydown(o)})("focusin",function(o){return t.CHM(e),t.oxw()._onFocusWithinOverlay(o)}),t.YNc(1,we,3,1,"div",6),t.YNc(2,be,5,7,"div",7),t.YNc(3,Me,5,3,"div",8),t.TgZ(4,"div",9,10),t.YNc(6,Oe,1,5,"nx-multi-select-option",11),t.qZA()()}if(2&i){const e=t.oxw();t.ekj("is-outline",e._isOutline),t.uIk("aria-owns",e._comboboxId)("aria-activedescendant",e._getAriaActiveDescendant())("aria-labelledby",e._getAriaLabelledBy()),t.xp6(1),t.Q6J("ngIf",!e._isOutline&&e._overlayLabel),t.xp6(1),t.Q6J("ngIf",e.filter),t.xp6(1),t.Q6J("ngIf",e._isOutline),t.xp6(1),t.Q6J("id",e._comboboxId),t.xp6(2),t.Q6J("ngForOf",e.listItems)}}let Z=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.Rgc))},i.\u0275dir=t.lG2({type:i,selectors:[["","nxClosedLabel",""]]}),i})();class z extends f.iC{constructor(){super(...arguments),this.isMultiSelect=!1}}function J(){return Error("`compareWith` must be a function.")}function b(i,s){return"outline"===i?[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top",offsetY:8},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",offsetY:-8}]:function Pe(i=0){return[{originX:"start",originY:"top",overlayX:"start",overlayY:"top",offsetY:i},{originX:"start",originY:"center",overlayX:"start",overlayY:"center"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}(s)}function Y(i,s,e){const n=s.getBoundingClientRect(),o=i.getBoundingClientRect(),l=e?parseInt(getComputedStyle(e).paddingTop,10):0;return n.top-o.top-l}let I=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["nx-dropdown-group"]],inputs:{label:["nxLabel","label"]},ngContentSelectors:P,decls:4,vars:1,consts:[[1,"nx-dropdown-results__group"],[1,"nx-dropdown-results__group-label"]],template:function(e,n){1&e&&(t.F$t(),t.TgZ(0,"div",0)(1,"div",1),t._uU(2),t.qZA(),t.Hsn(3),t.qZA()),2&e&&(t.xp6(2),t.Oqu(n.label))},styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]:first-child   .nx-dropdown-results__group[_ngcontent-%COMP%]{background:var(--dropdown-group-section-background-color)}[_nghost-%COMP%]:first-child   .nx-dropdown-results__group-label[_ngcontent-%COMP%]{padding-top:16px}.nx-dropdown-results__group-label[_ngcontent-%COMP%]{font-size:var(--formfield-label-font-size);line-height:var(--formfield-label-line-height);font-weight:var(--formfield-label-font-weight);letter-spacing:var(--formfield-label-letter-spacing);font-style:italic;font-weight:700;padding:24px 32px 16px}"],changeDetection:0}),i})();class De{constructor(s,e=!1){this.item=s,this.isUserInput=e}}let Te=0,M=(()=>{class i{constructor(e,n,o,l){this._dropdown=e,this.group=n,this._cdr=o,this._elementRef=l,this._hidden=!1,this._mostRecentViewValue="",this._id="nx-dropdown-item-"+Te++,this._disabled=!1,this._selected=!1,this._destroy=new x.xQ,this.onSelectionChange=new t.vpe,this._stateChanges=new x.xQ,this._dropdown.filterChanges.pipe((0,g.R)(this._destroy)).subscribe(r=>{this._showOrHideByFilter(r)}),this._dropdown._closedStream.pipe((0,g.R)(this._destroy)).subscribe(()=>{this._hidden=!1})}get label(){return this._mostRecentViewValue}get id(){return this._id}set disabled(e){const n=(0,C.Ig)(e);this.disabled!==n&&(this._disabled=n,this._cdr.markForCheck())}get disabled(){return this._disabled}get selected(){return this._selected}get active(){return this._active}get multiselect(){var e;return null===(e=this._dropdown)||void 0===e?void 0:e.isMultiSelect}ngAfterViewChecked(){this._updateViewValue()}_updateViewValue(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete(),this._destroy.next(),this._destroy.complete()}_onClick(e){e.preventDefault(),e.stopPropagation(),this._selectViaInteraction()}_selectViaInteraction(){this.disabled||(this._selected=!this.multiselect||!this._selected,this._updateViewValue(),this._cdr.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.multiselect?this.selected:null}show(){this._hidden=!1,this._cdr.markForCheck()}hide(){this._hidden=!0,this._cdr.markForCheck()}_showOrHideByFilter(e){const n=this._dropdown.filterFn(e,this.viewValue);this._hidden=!n,this._cdr.markForCheck()}get _formattedValue(){return this._dropdown.valueFormatter(this.value)}get viewValue(){return(this._elementRef.nativeElement.textContent||"").trim()}get elementRef(){return this._elementRef}select(){!this._selected&&!this.disabled&&(this._selected=!0,this._cdr.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._cdr.markForCheck(),this._emitSelectionChangeEvent())}_initSelected(e){this._selected=e,this._cdr.markForCheck()}focus(){this._elementRef.nativeElement.focus()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new De(this,e))}setActiveStyles(){this._active=!0,this._cdr.markForCheck()}setInactiveStyles(){this._active=!1,this._cdr.markForCheck()}getLabel(){return this.viewValue}_isContentEmpty(e){var n;return 0===e.children.length&&!(null===(n=e.textContent)||void 0===n?void 0:n.trim())}_onLabelChange(){this._cdr.detectChanges()}_getTabIndex(){return this.disabled?"-1":"0"}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(z),t.Y36(I,8),t.Y36(t.sBO),t.Y36(t.SBq))},i.\u0275cmp=t.Xpm({type:i,selectors:[["nx-dropdown-item"]],viewQuery:function(e,n){if(1&e&&t.Gf(q,7),2&e){let o;t.iGM(o=t.CRH())&&(n.containerElement=o.first)}},hostAttrs:["role","option"],hostVars:14,hostBindings:function(e,n){1&e&&t.NdJ("click",function(l){return n._onClick(l)}),2&e&&(t.Ikx("id",n.id),t.uIk("tabindex",n._getTabIndex())("aria-disabled",n.disabled.toString())("aria-selected",n._getAriaSelected()),t.ekj("nx-hidden",n._hidden)("nx-dropdown-item--active",n.active)("nx-dropdown-item--disabled",n.disabled)("nx-selected",n.selected)("nx-multiselect",n.multiselect))},inputs:{value:["nxValue","value"],disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"},ngContentSelectors:P,decls:7,vars:6,consts:[[1,"nx-dropdown-results__option",3,"ngClass"],["container",""],[3,"checked","disabled",4,"ngIf"],["class","nx-dropdown-results__option-checkicon",4,"ngIf"],[4,"ngIf"],["contentTemplate",""],[3,"checked","disabled"],[4,"ngTemplateOutlet"],[1,"nx-dropdown-results__option-checkicon"],["name","check","aria-hidden","true"],[1,"nx-dropdown-results__option-label"],[3,"cdkObserveContent"],["content",""]],template:function(e,n){1&e&&(t.F$t(),t.TgZ(0,"div",0,1),t.YNc(2,X,2,3,"nx-checkbox",2),t.YNc(3,$,2,0,"span",3),t.YNc(4,te,2,1,"ng-container",4),t.qZA(),t.YNc(5,oe,5,1,"ng-template",null,5,t.W1O)),2&e&&(t.Q6J("ngClass",t.VKq(4,ie,n.selected)),t.xp6(2),t.Q6J("ngIf",n.multiselect),t.xp6(1),t.Q6J("ngIf",!n.multiselect),t.xp6(1),t.Q6J("ngIf",!n.multiselect))},directives:[k.Wi,v.O8,p.mk,p.O5,p.tP,F.wD],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]:focus{outline:none}.nx-hidden[_nghost-%COMP%]{display:none}[_nghost-%COMP%]:first-child   .nx-dropdown-results__option[_ngcontent-%COMP%]{padding-top:16px}[_nghost-%COMP%]:last-child   .nx-dropdown-results__option[_ngcontent-%COMP%]{padding-bottom:16px}nx-checkbox[_ngcontent-%COMP%]{margin-bottom:0}.nx-dropdown-results__option[_ngcontent-%COMP%]{font-size:var(--dropdown-item-font-size);line-height:var(--dropdown-item-line-height);font-weight:var(--dropdown-item-font-weight);letter-spacing:var(--dropdown-item-letter-spacing);padding:8px 32px 8px 8px;cursor:pointer;position:relative;display:flex;max-width:100%;white-space:nowrap}[dir=rtl][_nghost-%COMP%]   .nx-dropdown-results__option[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .nx-dropdown-results__option[_ngcontent-%COMP%]{padding:8px 8px 8px 32px}.nx-dropdown-results__option-label[_ngcontent-%COMP%]{padding:0 12px;margin:0 -12px;color:var(--dropdown-item-text-color);white-space:pre-line}@media screen and (-ms-high-contrast: active){.nx-dropdown-results__option-label[_ngcontent-%COMP%]{-ms-high-contrast-adjust:none;color:buttonText;background-color:buttonFace;border-radius:4px}}.nx-multiselect[_nghost-%COMP%]   .nx-dropdown-results__option[_ngcontent-%COMP%]{display:block;padding-left:32px}[dir=rtl]   .nx-multiselect[_nghost-%COMP%]   .nx-dropdown-results__option[_ngcontent-%COMP%]{padding-right:32px}[_nghost-%COMP%]:not(.nx-dropdown-item--disabled):hover   .nx-dropdown-results__option-label[_ngcontent-%COMP%], .nx-selected[_nghost-%COMP%]:not(.nx-dropdown-item--disabled):hover   .nx-dropdown-results__option-label[_ngcontent-%COMP%], .nx-selected[_nghost-%COMP%]:not(.nx-dropdown-item--disabled):hover   .nx-dropdown-results__option-checkicon[_ngcontent-%COMP%]{color:var(--dropdown-item-hover-color)}.nx-selected[_nghost-%COMP%]   .nx-dropdown-results__option-checkicon[_ngcontent-%COMP%]{opacity:1}.nx-selected[_nghost-%COMP%]   .nx-dropdown-results__option-label[_ngcontent-%COMP%]{color:var(--dropdown-item-selected-color)}.nx-dropdown-results__option-checkicon[_ngcontent-%COMP%]{opacity:0;margin-right:8px;height:var(--dropdown-item-line-height);color:var(--dropdown-item-checkmark-color)}.nx-dropdown-results__option-checkicon[_ngcontent-%COMP%]   nx-icon[_ngcontent-%COMP%]{line-height:var(--dropdown-item-line-height);font-size:16px}[dir=rtl][_nghost-%COMP%]   .nx-dropdown-results__option-checkicon[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .nx-dropdown-results__option-checkicon[_ngcontent-%COMP%]{margin-right:0;margin-right:initial;margin-left:8px}.nx-dropdown-item--active[_nghost-%COMP%]   .nx-dropdown-results__option[_ngcontent-%COMP%]   .nx-dropdown-results__option-label[_ngcontent-%COMP%]{border-radius:4px;box-shadow:var(--focus-box-shadow)}@media screen and (-ms-high-contrast: active){.nx-dropdown-item--active[_nghost-%COMP%]   .nx-dropdown-results__option[_ngcontent-%COMP%]   .nx-dropdown-results__option-label[_ngcontent-%COMP%]{box-shadow:0 0 0 2px background,0 0 0 6px windowText;outline:4px solid CanvasText;outline-offset:2px}}.nx-multiselect.nx-dropdown-item--active[_nghost-%COMP%]   .nx-dropdown-results__option[_ngcontent-%COMP%]   .nx-dropdown-results__option-label[_ngcontent-%COMP%]{box-shadow:none}@media screen and (-ms-high-contrast: active){.nx-multiselect.nx-dropdown-item--active[_nghost-%COMP%]   .nx-dropdown-results__option[_ngcontent-%COMP%]   .nx-dropdown-results__option-label[_ngcontent-%COMP%]{box-shadow:none}}.nx-multiselect.nx-dropdown-item--active[_nghost-%COMP%]     .nx-checkbox__label{border-radius:4px;box-shadow:var(--focus-box-shadow)}@media screen and (-ms-high-contrast: active){.nx-multiselect.nx-dropdown-item--active[_nghost-%COMP%]     .nx-checkbox__label{box-shadow:0 0 0 2px background,0 0 0 6px windowText;outline:4px solid CanvasText;outline-offset:2px}}.nx-selected.nx-dropdown-item--active[_nghost-%COMP%]   .nx-dropdown-results__option-label[_ngcontent-%COMP%]{padding-left:24px;margin-left:-24px}[dir=rtl]   .nx-selected.nx-dropdown-item--active[_nghost-%COMP%]   .nx-dropdown-results__option-label[_ngcontent-%COMP%]{padding-left:0;padding-left:initial;margin-left:0;margin-left:initial;padding-right:24px;margin-right:-24px}[_nghost-%COMP%]     .nx-checkbox__label{padding:0 4px;margin:0 -4px}.nx-dropdown-item--disabled[_nghost-%COMP%]   .nx-dropdown-results__option[_ngcontent-%COMP%]{cursor:not-allowed}.nx-dropdown-item--disabled[_nghost-%COMP%]   .nx-dropdown-results__option-label[_ngcontent-%COMP%]{color:var(--dropdown-item-text-color-disabled)}@media screen and (-ms-high-contrast: active){[_nghost-%COMP%]:hover:not(.nx-dropdown-item--disabled)   .nx-dropdown-results__option-label[_ngcontent-%COMP%], .nx-dropdown-item--active[_nghost-%COMP%]:not(.nx-multiselect)   .nx-dropdown-results__option-label[_ngcontent-%COMP%]{color:highlightText;background-color:highlight}.nx-dropdown-item--active[_nghost-%COMP%]:not(.nx-multiselect)   .nx-dropdown-results__option-checkicon[_ngcontent-%COMP%]{-ms-high-contrast-adjust:none;color:highlightText;background:highlight;z-index:1}.nx-dropdown-item--disabled[_nghost-%COMP%]   .nx-dropdown-results__option-label[_ngcontent-%COMP%]{color:GrayText}}"],changeDetection:0}),i})(),Se=0;class Ee{constructor(s,e){this.source=s,this.value=e}}let Fe=(()=>{class i{constructor(e,n,o,l,r,a,_,O,Be,He){this._cdr=e,this._elementRef=n,this._ngZone=o,this.formFieldComponent=r,this._errorStateMatcher=a,this.ngControl=_,this._parentForm=O,this._parentFormGroup=Be,this._dir=He,this.readonly=!1,this._disabled=!1,this.renderedValueId="nx-dropdown-rendered-"+Se++,this._placeholder="",this._focused=!1,this._panelOpen=!1,this.errorState=!1,this.controlType="nx-dropdown",this._overlayViewportMargin="rtl"===this.dir?0:16,this._positions=b("auto",0),this.stateChanges=new x.xQ,this._tabIndex=0,this.currentFilter="",this._options=new W.X(null),this.isMultiSelect=!1,this._style="",this._negative=!1,this.showFilter=!1,this.filterPlaceholder="",this.overlayLabel="",this.openedChange=new t.vpe,this.filterResultChange=new t.vpe,this._openedStream=this.openedChange.pipe((0,T.h)(u=>u),(0,S.U)(()=>{})),this._closedStream=this.openedChange.pipe((0,T.h)(u=>!u),(0,S.U)(()=>{})),this.filterChanges=new x.xQ,this.valueChange=new t.vpe,this.selectionChange=new t.vpe,this._destroy=new x.xQ,this.valueFormatter=u=>null==u?"":u.toString(),this._compareWith=(u,D)=>u===D,this._filterFn=(u,D)=>D.toLocaleLowerCase().includes(u.toLocaleLowerCase()),this._onChange=()=>{},this._onTouched=()=>{},this.ngControl&&(this.ngControl.valueAccessor=this),this.tabIndex=parseInt(l,10)||0}set options(e){this._options.next(e)}get options(){return this._options.value}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?e:0}get value(){return this._value}set value(e){e!==this._value&&(this.writeValue(e),this._value=e,this._onChange(e))}get disabled(){return this._disabled}set disabled(e){this._disabled=(0,C.Ig)(e)}get id(){return this.renderedValueId}set styles(e){this._style!==e&&(this._style=e,this._negative=!!this._style.match(/negative/))}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get dropdownItems(){return this._isLazy?this._lazyDropdownItems:this._contentDropdownItems}get closedDropdownLabel(){return this._closedDropdownLabel}get panelOpen(){return this._panelOpen}set panelOpen(e){this._panelOpen=e}get label(){return this._isInOutlineField?"":this.overlayLabel?this.overlayLabel:this.formFieldComponent?this.formFieldComponent.label:""}get compareWith(){return this._compareWith}set compareWith(e){if("function"!=typeof e)throw J();this._compareWith=e,this._selectionModel&&this._initializeSelection()}get filterFn(){return this._filterFn}set filterFn(e){if("function"!=typeof e)throw J();this._filterFn=e}get focused(){return this._focused||this.panelOpen}get elementRef(){return this._elementRef}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}ngDoCheck(){this.ngControl&&this.updateErrorState()}ngOnInit(){this._selectionModel=new U.Ov(this.isMultiSelect)}ngAfterViewInit(){this._initKeyManager()}ngAfterContentInit(){var e;this._closedDropdownLabel=(null===(e=this._customClosedDropdownLabel)||void 0===e?void 0:e.templateRef)||this._defaultClosedDropdownLabel,this._selectionModel.changed.pipe((0,g.R)(this._destroy)).subscribe(n=>{n.added.forEach(({value:o})=>{this.dropdownItems.filter(l=>l.value===o).forEach(l=>l.select())}),n.removed.forEach(({value:o})=>{this.dropdownItems.filter(l=>l.value===o).forEach(l=>l.deselect())})}),this._isLazy?this._options.pipe((0,g.R)(this._destroy)).subscribe(()=>{this._initializeSelection()}):this.dropdownItems.changes.pipe((0,G.O)(null),(0,g.R)(this._destroy)).subscribe(()=>{this._subscribeToOptionChanges(),this._initializeSelection()})}ngOnDestroy(){this._destroy.next(),this._destroy.complete()}updateErrorState(){const e=this.errorState,l=this._errorStateMatcher.isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);l!==e&&(this.errorState=l,this.stateChanges.next())}_initKeyManager(){this._keyManager=new y.s1(this.dropdownItems).withTypeAhead().withHomeAndEnd().withVerticalOrientation().withHorizontalOrientation("ltr").skipPredicate(e=>e._hidden||e.disabled),this._keyManager.tabOut.pipe((0,g.R)((0,w.T)(this._destroy,this._closedStream))).subscribe(()=>{this.closePanel()}),this._keyManager.change.pipe((0,g.R)(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollActiveOptionIntoView():!this._panelOpen&&!this.isMultiSelect&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_initActiveItem(){if(!this.isMultiSelect&&this._selectionModel.selected[0]){const e=this.dropdownItems.find(n=>n.value===this._selectionModel.selected[0].value);e&&(this._keyManager.setActiveItem(e),this._scrollActiveOptionIntoCenter())}else this._keyManager.setFirstItemActive()}_subscribeToOptionChanges(){const e=(0,w.T)(this.dropdownItems.changes,this._destroy);(0,w.T)(...this.dropdownItems.map(n=>n.onSelectionChange)).pipe((0,g.R)(e)).subscribe(n=>{this._onSelect(n.item,n.isUserInput)}),(0,w.T)(...this.dropdownItems.map(n=>n._stateChanges)).pipe((0,g.R)(e)).subscribe(()=>{setTimeout(()=>{this._cdr.markForCheck(),this.stateChanges.next()})})}_onSelect(e,n,o){var l;const r=this._selectionModel.isSelected(e),a=o||e;null!==e.value||this.isMultiSelect?(e.selected?this._selectionModel.select(a):this._selectionModel.deselect(a),n&&(null===(l=this._keyManager)||void 0===l||l.setActiveItem(e)),this.isMultiSelect&&this._sortValues()):(e.deselect(),this._selectionModel.clear(),this._propagateChanges(a.value)),r!==this._selectionModel.isSelected(a)&&this._propagateChanges(),this.stateChanges.next(),n&&!this.isMultiSelect&&this._panelOpen&&this.closePanel()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value)})}_setSelectionByValue(e){if(this._selectionModel){if(this._selectionModel.clear(),this.isMultiSelect&&e){if(!Array.isArray(e))throw function ke(){return Error("Value must be an array in multiselect mode.")}();e.forEach(n=>this._selectValue(n)),this._sortValues()}else this._selectValue(e);this._cdr.markForCheck()}}_selectValue(e){const l=(this._isLazy?this.options:this.dropdownItems.toArray()).find(r=>{try{return null!==r.value&&this._compareWith(r.value,e)}catch(a){return(0,t.X6Q)()&&console.warn(a),!1}});l&&this._selectionModel.select(l)}_propagateChanges(e){let n=null;if(this.isMultiSelect)n=this._selectionModel.selected.map(o=>o.value);else{const o=this._selectionModel.selected[0];n=o?o.value:e}this._value=n,this.valueChange.emit(n),this._onChange(n),this.selectionChange.emit(new Ee(this,n)),this._cdr.markForCheck()}_sortValues(){if(this.isMultiSelect){const e=this._isLazy?this.options:this.dropdownItems.toArray();this._selectionModel.sort((n,o)=>e.findIndex(l=>l.value===n.value)-e.findIndex(l=>l.value===o.value)),this.stateChanges.next()}}_updatePosition(){if(this.formFieldComponent){const e=this.overlayDir.overlayRef.overlayElement.querySelector(".nx-dropdown__panel-header"),n=Y(this._elementRef.nativeElement,this.formFieldComponent.elementRef.nativeElement,e);this._positions=b(this.formFieldComponent.appearance,n)}}focus(){this._elementRef.nativeElement.focus()}openPanel(e){var n,o;this.disabled||!(null===(n=this.dropdownItems)||void 0===n?void 0:n.length)&&!(null===(o=this.options)||void 0===o?void 0:o.length)||this._panelOpen||(e.preventDefault(),this._panelOpen=!0,setTimeout(()=>{this._selectionModel.selected.forEach(l=>{const r=this.dropdownItems.find(a=>a.value===l.value);r&&r._initSelected(!0)}),this._initActiveItem()}),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._cdr.markForCheck())}closePanel(){this._panelOpen&&(this._panelOpen=!1,this._cdr.markForCheck(),this._onTouched(),this.openedChange.emit(!1),this._ngZone.runOutsideAngular(()=>{setTimeout(()=>this.focus())}))}_scrollActiveOptionIntoCenter(){if(this.panelBody.nativeElement.scrollTop=0,!this.empty){const e=this._getItemOffset(this._keyManager.activeItem),n=this.panelBody.nativeElement.offsetHeight,l=this.panelBody.nativeElement.getBoundingClientRect().top+n/2;e>l&&(this.panelBody.nativeElement.scrollTop=e-l)}}_scrollActiveOptionIntoView(){if(!this.panelOpen||!this._keyManager.activeItem)return;const e=this._keyManager.activeItem.containerElement.nativeElement,n=this.panelBody.nativeElement,o=n.offsetTop,l=n.scrollTop,r=n.clientHeight,a=e.offsetTop-o,_=e.offsetTop-o+e.getBoundingClientRect().height;a<l?this.panelBody.nativeElement.scrollTop=a:_>l+r&&(this.panelBody.nativeElement.scrollTop=_-r)}_getItemOffset(e){if(!e)return 0;const n=e.containerElement.nativeElement.getBoundingClientRect();return n.top+n.height/2}setDescribedByIds(e){this.ariaDescribedby=e.join(" ")}setAriaLabel(e){return e}_getAriaLabelledBy(){var e;const n=this.renderedValueId,o=null===(e=this.formFieldComponent)||void 0===e?void 0:e.labelId;return o?`${n} ${o}`:n}get _isInOutlineField(){return null!==this.formFieldComponent&&"outline"===this.formFieldComponent.appearance}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}get hasValue(){return this._selectionModel.hasValue()}get shouldLabelFloat(){return this.focused||!this.empty||!!(this.placeholder&&this.placeholder.length>0)}writeValue(e){this._setSelectionByValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._cdr.markForCheck(),this.stateChanges.next()}_handleKeydown(e){this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e)}get _isLazy(){return Array.isArray(this.options)}setNextItemActive(){const e=this._isLazy?this.options:this.dropdownItems.toArray(),n=Math.min(e.length-1,e.indexOf(this._selectionModel.selected[0])+1);this._selectionModel.select(e[n]),this._propagateChanges()}setPreviousItemActive(){const e=this._isLazy?this.options:this.dropdownItems.toArray(),n=Math.max(0,e.indexOf(this._selectionModel.selected[0])-1);this._selectionModel.select(e[n]),this._propagateChanges()}_handleClosedKeydown(e){if(this.disabled)return;const n=e.keyCode;if(n===d.K5||n===d.L_||(this.isMultiSelect||e.altKey)&&(n===d.JH||n===d.LH||n===d.oh||n===d.SV))e.preventDefault(),this.openPanel(e);else if(!this.isMultiSelect)switch(n){case d.JH:this.setNextItemActive(),e.preventDefault();break;case d.LH:this.setPreviousItemActive(),e.preventDefault();break;default:this._keyManager.onKeydown(e)}}_handleOpenKeydown(e){const n=e.keyCode;if(![d.JH,d.LH,d.Sd,d.uR,d.K5,d.oh,d.SV,d.JU,d.L_,d.Mf].includes(n)&&this.showFilter)return;const o=n===d.JH||n===d.LH,l=this._keyManager,r=this.dropdownItems.map(a=>a._hidden).every(a=>Boolean(a));if(n===d.Sd||n===d.uR)e.preventDefault(),n===d.Sd?l.setFirstItemActive():l.setLastItemActive();else if(o&&e.altKey)e.preventDefault(),this.closePanel();else if(n===d.K5&&l.activeItem&&!r)e.preventDefault(),l.activeItem._selectViaInteraction();else if(n===d.K5&&r)e.preventDefault(),this.closePanel();else if(!this.showFilter&&n===d.L_&&l.activeItem)e.preventDefault(),l.activeItem._selectViaInteraction();else if(n===d.Mf)this.closePanel();else{const a=l.activeItemIndex;l.onKeydown(e),this.isMultiSelect&&o&&e.shiftKey&&l.activeItem&&l.activeItemIndex!==a&&l.activeItem._selectViaInteraction()}}formatValue(e){return this.valueFormatter(e)}_onFilter(e){e.preventDefault(),this.currentFilter=e.target.value,this.filterChanges.next(e.target.value),this.dropdownItems.toArray().every(l=>l._hidden)?this._keyManager.setActiveItem(null):this._keyManager.setFirstItemActive();const o=this.dropdownItems.filter(l=>!l._hidden);this.filterResultChange.next(o)}get triggerValue(){return this.empty?"":this.isMultiSelect?this._selectionModel.selected.map(e=>this._getLabel(e)).join(", "):this._getLabel(this._selectionModel.selected[0])}_getLabel(e){return e.label||this.formatValue(e.value)}_onAttached(){this.overlayDir.positionChange.pipe((0,E.q)(1)).subscribe(()=>{const e=this.overlayDir.overlayRef,n=e.getConfig().positionStrategy;this._updatePosition(),n.withPositions(this._positions),e.updatePosition(),this._cdr.markForCheck(),this.openedChange.emit(!0),this.showFilter?this.filterInput.nativeElement.focus():this.panelBody.nativeElement.focus()})}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this.filterInput&&this.showFilter&&this._clearFilter(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._cdr.markForCheck(),this.stateChanges.next())}get isFilterEmpty(){return 0===this.currentFilter.length}_clearFilter(){this.filterInput.nativeElement.value="",this.currentFilter="",this.filterChanges.next("")}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.sBO),t.Y36(t.SBq),t.Y36(t.R0b),t.$8M("tabindex"),t.Y36(f.VM,8),t.Y36(A.rD),t.Y36(h.a5,10),t.Y36(h.F,8),t.Y36(h.sg,8),t.Y36(N.Is,8))},i.\u0275cmp=t.Xpm({type:i,selectors:[["nx-dropdown"]],contentQueries:function(e,n,o){if(1&e&&(t.Suo(o,Z,5),t.Suo(o,M,5),t.Suo(o,I,4)),2&e){let l;t.iGM(l=t.CRH())&&(n._customClosedDropdownLabel=l.first),t.iGM(l=t.CRH())&&(n._contentDropdownItems=l),t.iGM(l=t.CRH())&&(n.groups=l)}},viewQuery:function(e,n){if(1&e&&(t.Gf(le,5),t.Gf(se,5),t.Gf(B,7),t.Gf(H,5),t.Gf(m.pI,7),t.Gf(re,7),t.Gf(M,5)),2&e){let o;t.iGM(o=t.CRH())&&(n.panel=o.first),t.iGM(o=t.CRH())&&(n.panelBody=o.first),t.iGM(o=t.CRH())&&(n.trigger=o.first),t.iGM(o=t.CRH())&&(n.filterInput=o.first),t.iGM(o=t.CRH())&&(n.overlayDir=o.first),t.iGM(o=t.CRH())&&(n._defaultClosedDropdownLabel=o.first),t.iGM(o=t.CRH())&&(n._lazyDropdownItems=o)}},hostAttrs:["role","button","aria-haspopup","listbox"],hostVars:17,hostBindings:function(e,n){1&e&&t.NdJ("keydown",function(l){return n._handleKeydown(l)})("focus",function(){return n._onFocus()})("blur",function(){return n._onBlur()})("click",function(l){return n.openPanel(l)}),2&e&&(t.uIk("aria-describedby",n.ariaDescribedby||null)("aria-required",n.required)("aria-disabled",n.disabled)("aria-labelledby",n._getAriaLabelledBy())("aria-expanded",n.panelOpen)("disabled",n.disabled||null)("tabindex",n.tabIndex),t.ekj("nx-dropdown",!0)("is-filled",n.hasValue)("has-focus",n.focused)("nx-dropdown--negative",n._negative)("nx-dropdown--disabled",n.disabled))},inputs:{options:"options",tabIndex:"tabIndex",value:["nxValue","value"],disabled:["nxDisabled","disabled"],isMultiSelect:["nxIsMultiselect","isMultiSelect"],required:["nxRequired","required"],styles:["nxStyle","styles"],placeholder:"placeholder",showFilter:["nxShowFilter","showFilter"],filterPlaceholder:["nxFilterPlaceholder","filterPlaceholder"],overlayLabel:["nxOverlayLabel","overlayLabel"],valueFormatter:["nxValueFormatter","valueFormatter"],compareWith:"compareWith",filterFn:"filterFn"},outputs:{openedChange:"openedChange",filterResultChange:"filterResult",_openedStream:"opened",_closedStream:"closed",filterChanges:"filterInput",valueChange:"nxValueChange",selectionChange:"selectionChange"},features:[t._Bn([{provide:z,useExisting:i},{provide:f.iC,useExisting:i}])],ngContentSelectors:P,decls:11,vars:10,consts:[["cdkOverlayOrigin","",1,"nx-dropdown__container"],["origin","cdkOverlayOrigin","trigger",""],[1,"nx-dropdown__rendered",3,"id"],[4,"ngIf"],[1,"nx-dropdown__icon"],["name","chevron-down",1,"nx-dropdown__chevron"],["defaultClosedDropdownLabel",""],["cdkConnectedOverlay","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayFlexibleDimensions","cdkConnectedOverlayViewportMargin","cdkConnectedOverlayPush","backdropClick","attach","detach"],[4,"ngTemplateOutlet"],[1,"nx-dropdown__panel",3,"dir","keydown"],["panel",""],["class","nx-dropdown__panel-header",4,"ngIf"],["class","nx-dropdown__filter",4,"ngIf"],["tabindex","-1","role","listbox",1,"nx-dropdown__panel-body"],["panelBody",""],[4,"ngFor","ngForOf"],[1,"nx-dropdown__panel-header"],[1,"nx-dropdown__filter"],["type","text",1,"nx-dropdown__filter-input",3,"placeholder","input"],["filterInput",""],["class","nx-dropdown__filter-icon",3,"click",4,"ngIf"],[1,"nx-dropdown__filter-icon",3,"click"],["name","close"],[3,"nxValue","onSelectionChange"]],template:function(e,n){if(1&e&&(t.F$t(),t.TgZ(0,"div",0,1)(3,"div",2),t.YNc(4,ae,2,1,"span",3),t.YNc(5,ce,2,1,"ng-container",3),t.qZA(),t.TgZ(6,"div",4),t._UZ(7,"nx-icon",5),t.qZA()(),t.YNc(8,pe,1,1,"ng-template",null,6,t.W1O),t.YNc(10,me,8,10,"ng-template",7),t.NdJ("backdropClick",function(){return n.closePanel()})("attach",function(){return n._onAttached()})("detach",function(){return n.closePanel()})),2&e){const o=t.MAs(1);t.xp6(3),t.Q6J("id",n.renderedValueId),t.xp6(1),t.Q6J("ngIf",n.empty&&n.placeholder),t.xp6(1),t.Q6J("ngIf",!n.empty),t.xp6(5),t.Q6J("cdkConnectedOverlayOrigin",o)("cdkConnectedOverlayOpen",n.panelOpen)("cdkConnectedOverlayPositions",n._positions)("cdkConnectedOverlayMinWidth",null==n._triggerRect?null:n._triggerRect.width)("cdkConnectedOverlayFlexibleDimensions",!0)("cdkConnectedOverlayViewportMargin",n._overlayViewportMargin)("cdkConnectedOverlayPush",!0)}},directives:[v.O8,M,m.xu,p.O5,p.tP,m.pI,N.Lv,p.sg],styles:["[_nghost-%COMP%]{display:block;width:100%}[_nghost-%COMP%]:focus{outline:none}.nx-dropdown--negative[_nghost-%COMP%]:focus{font-weight:600}.nx-dropdown--negative[_nghost-%COMP%]{color:var(--negative)}[aria-expanded=true][_nghost-%COMP%]   .nx-dropdown__chevron[_ngcontent-%COMP%]{transform:rotate(180deg)}.nx-dropdown__container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;height:100%;cursor:pointer}.nx-dropdown--disabled[_nghost-%COMP%]   .nx-dropdown__container[_ngcontent-%COMP%]{cursor:not-allowed}.nx-dropdown__rendered[_ngcontent-%COMP%]{flex:1 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.nx-dropdown__panel[_ngcontent-%COMP%]{box-shadow:var(--shadow-small);border-radius:4px;min-width:100%}.nx-dropdown__panel[_ngcontent-%COMP%]     .nx-checkbox__label{font-size:var(--dropdown-item-font-size);line-height:var(--dropdown-item-line-height);font-weight:var(--dropdown-item-font-weight);letter-spacing:var(--dropdown-item-letter-spacing);display:flex;align-items:center}.nx-dropdown__panel[_ngcontent-%COMP%]:focus{outline:none}.nx-dropdown__panel--in-outline-field[_ngcontent-%COMP%]   .nx-dropdown__panel-body[_ngcontent-%COMP%]{max-height:calc(6 * (var(--dropdown-item-outline-line-height) + 16px) + 16px)}.nx-dropdown__panel--in-outline-field[_ngcontent-%COMP%]     .nx-dropdown-results__group-label{font-size:var(--formfield-outline-label-font-size);line-height:var(--formfield-outline-label-line-height);font-weight:var(--formfield-outline-label-font-weight);letter-spacing:var(--formfield-outline-label-letter-spacing);font-style:normal;font-weight:700}.nx-dropdown__panel--in-outline-field[_ngcontent-%COMP%]     nx-dropdown-item .nx-dropdown-results__option, .nx-dropdown__panel--in-outline-field[_ngcontent-%COMP%]     nx-dropdown-item .nx-dropdown-results__option-label{font-size:var(--dropdown-item-outline-font-size);line-height:var(--dropdown-item-outline-line-height);font-weight:var(--dropdown-item-outline-font-weight);letter-spacing:var(--dropdown-item-outline-letter-spacing)}.nx-dropdown__panel--in-outline-field[_ngcontent-%COMP%]     nx-dropdown-item .nx-dropdown-results__option-checkicon{height:var(--dropdown-item-outline-line-height)}.nx-dropdown__panel--in-outline-field[_ngcontent-%COMP%]     .nx-dropdown__filter-input{font-size:var(--formfield-outline-control-font-size);line-height:var(--formfield-outline-control-line-height);font-weight:var(--formfield-outline-control-font-weight);letter-spacing:var(--formfield-outline-control-letter-spacing)}.nx-dropdown__panel--in-outline-field[_ngcontent-%COMP%]     .nx-dropdown__filter-input:empty{font-weight:300}.nx-dropdown__icon[_ngcontent-%COMP%]{font-size:var(--dropdown-chevron-size);line-height:0}.nx-dropdown__chevron[_ngcontent-%COMP%]{vertical-align:middle}.nx-dropdown__panel-header[_ngcontent-%COMP%]{font-size:var(--formfield-label-font-size);line-height:var(--formfield-label-line-height);font-weight:var(--formfield-label-font-weight);letter-spacing:var(--formfield-label-letter-spacing);color:var(--dropdown-panel-header-text-color);background-color:var(--dropdown-panel-header-background-color);padding:8px 32px;border-top-left-radius:4px;border-top-right-radius:4px;z-index:1}.nx-dropdown__panel-body[_ngcontent-%COMP%]{background-color:var(--dropdown-panel-background-color);max-height:calc(6 * (var(--dropdown-item-line-height) + 16px) + 16px);overflow-y:auto;outline:none}.nx-dropdown__filter[_ngcontent-%COMP%]{position:relative;padding:16px 32px 12px;background-color:var(--dropdown-panel-background-color)}[dir=rtl][_ngcontent-%COMP%]   .nx-dropdown__filter[_ngcontent-%COMP%]{padding:16px 32px 12px}.nx-dropdown__filter-input[_ngcontent-%COMP%]{font-size:var(--formfield-control-font-size);line-height:var(--formfield-control-line-height);font-weight:var(--formfield-control-font-weight);letter-spacing:var(--formfield-control-letter-spacing);border:0;border-bottom:1px var(--dropdown-filter-input-border-color) solid;color:var(--dropdown-filter-input-text-color);width:100%;outline:none;background-color:transparent;padding:0 24px 3px 0;font-weight:300}.nx-dropdown__filter-input[_ngcontent-%COMP%]::-ms-clear{display:none}[dir=rtl][_ngcontent-%COMP%]   .nx-dropdown__filter-input[_ngcontent-%COMP%]{padding:0 0 3px 24px}.nx-dropdown__panel.has-filter[_ngcontent-%COMP%]     nx-dropdown-item:first-of-type .nx-dropdown-results__option{padding-top:12px}.nx-dropdown__filter-icon[_ngcontent-%COMP%]{position:absolute;height:24px;right:32px;top:17px;cursor:pointer}[dir=rtl][_ngcontent-%COMP%]   .nx-dropdown__filter-icon[_ngcontent-%COMP%]{left:32px;right:auto}.nx-dropdown__filter-icon[_ngcontent-%COMP%]   nx-icon[_ngcontent-%COMP%]{font-size:24px}.nx-dropdown__filter-input[_ngcontent-%COMP%]:focus{border-color:var(--dropdown-filter-input-active-border-color)}.nx-dropdown__filter-input.is-filled[_ngcontent-%COMP%]:focus{font-weight:600;color:var(--dropdown-filter-input-active-text-color);border-color:var(--dropdown-filter-input-active-border-color)}.nx-dropdown__filter-input.is-filled[_ngcontent-%COMP%]:focus + .nx-dropdown__filter-icon[_ngcontent-%COMP%]{color:var(--dropdown-filter-input-active-text-color)}@media screen and (-ms-high-contrast: active){.nx-dropdown__panel[_ngcontent-%COMP%]{box-shadow:0 0 0 1px windowText;border:1px solid CanvasText}.nx-dropdown__panel-header[_ngcontent-%COMP%]{border-bottom:1px solid windowText}.nx-dropdown__filter-input[_ngcontent-%COMP%]{border-bottom-color:buttonText}}"],changeDetection:0}),i})(),Ae=0,K=(()=>{class i{constructor(e,n){this._cdr=e,this.elementRef=n,this._active=!1,this.id="nx-multi-select-option-"+Ae++,this.appearance="auto",this.label="",this.selected=!1,this.disabled=!1,this.selectedChange=new t.vpe}set active(e){this._active=e,this._cdr.markForCheck()}get active(){return this._active}setActiveStyles(){this.active=!0}setInactiveStyles(){this.active=!1}_onClick(){this.selected=!this.selected,this.selectedChange.emit(this.selected)}selectViaInteraction(){this._onClick(),this._cdr.markForCheck()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.sBO),t.Y36(t.SBq))},i.\u0275cmp=t.Xpm({type:i,selectors:[["nx-multi-select-option"]],hostAttrs:["role","option"],hostVars:5,hostBindings:function(e,n){1&e&&t.NdJ("click",function(){return n._onClick()}),2&e&&(t.Ikx("id",n.id),t.uIk("aria-selected",n.selected||null)("aria-disabled",n.disabled||null),t.ekj("is-outline","outline"===n.appearance))},inputs:{appearance:"appearance",value:"value",label:"label",selected:"selected",disabled:"disabled"},outputs:{selectedChange:"selectedChange"},decls:5,vars:8,consts:[[1,"nx-checkbox"],[1,"nx-checkbox__control"],["name","check","aria-hidden","true",4,"ngIf"],[1,"nx-checkbox__label"],["name","check","aria-hidden","true"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"span",1),t.YNc(2,xe,1,0,"nx-icon",2),t.qZA(),t.TgZ(3,"span",3),t._uU(4),t.qZA()()),2&e&&(t.ekj("is-active",n.active)("is-selected",n.selected)("is-disabled",n.disabled),t.xp6(2),t.Q6J("ngIf",n.selected),t.xp6(2),t.hij(" ",n.label," "))},directives:[v.O8,p.O5],styles:["[_nghost-%COMP%]{display:flex;width:100%;padding:8px 0}.is-outline[_nghost-%COMP%]{padding:8px 0}.is-outline[_nghost-%COMP%]   .nx-checkbox[_ngcontent-%COMP%]{font-size:var(--checkbox-small-label-font-size);line-height:var(--checkbox-small-label-line-height);font-weight:var(--checkbox-small-label-font-weight);letter-spacing:var(--checkbox-small-label-letter-spacing)}.nx-checkbox[_ngcontent-%COMP%]{font-size:var(--checkbox-large-label-font-size);line-height:var(--checkbox-large-label-line-height);font-weight:var(--checkbox-large-label-font-weight);letter-spacing:var(--checkbox-large-label-letter-spacing);color:var(--checkbox-label-color);cursor:pointer;display:flex;align-items:center}.nx-checkbox.is-active[_ngcontent-%COMP%]{box-shadow:var(--focus-box-shadow);border-radius:4px}@media screen and (-ms-high-contrast: active){.nx-checkbox.is-active[_ngcontent-%COMP%]{box-shadow:0 0 0 2px background,0 0 0 6px windowText;outline:4px solid CanvasText;outline-offset:2px}}.nx-checkbox.is-disabled[_ngcontent-%COMP%]{cursor:not-allowed}.nx-checkbox.is-disabled[_ngcontent-%COMP%]   .nx-checkbox__control[_ngcontent-%COMP%]{background-color:var(--checkbox-disabled-background-color);border-color:var(--checkbox-disabled-border-color);color:var(--checkbox-disabled-icon-color)}.nx-checkbox.is-disabled[_ngcontent-%COMP%]   .nx-checkbox__label[_ngcontent-%COMP%]{color:var(--checkbox-label-disabled-color)}.nx-checkbox.is-selected[_ngcontent-%COMP%]   .nx-checkbox__control[_ngcontent-%COMP%]{background-color:var(--checkbox-selected-background-color);border-color:var(--checkbox-selected-border-color)}.nx-checkbox__control[_ngcontent-%COMP%]{background-color:var(--checkbox-background-color);border-style:solid;border-width:var(--checkbox-border-width);border-color:var(--checkbox-border-color);border-radius:var(--checkbox-border-radius);color:var(--checkbox-icon-color);font-size:var(--checkbox-icon-size);height:var(--checkbox-control-size);width:var(--checkbox-control-size);min-width:var(--checkbox-control-size);display:flex;justify-content:center;align-items:center;z-index:0}.nx-checkbox__label[_ngcontent-%COMP%]{padding:0;margin-left:var(--checkbox-small-label-text-margin-left)}[dir=rtl][_nghost-%COMP%]   .nx-checkbox__label[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .nx-checkbox__label[_ngcontent-%COMP%]{margin-left:0;margin-left:initial;margin-right:var(--checkbox-small-label-text-margin-left)}"],changeDetection:0}),i})(),Ne=0,Re=(()=>{class i{constructor(e,n,o,l,r,a,_){this._elementRef=e,this._errorStateMatcher=n,this._cdr=o,this._formFieldComponent=l,this.ngControl=r,this._parentForm=a,this._parentFormGroup=_,this._required=!1,this._disabled=!1,this._readonly=!1,this._placeholder="",this._filter=!1,this._openedBy="mouse",this.controlType="nx-multi-select",this.errorState=!1,this._positions=b("auto",0),this._inputFocused=!1,this._ariaDescribedby="",this._width=0,this._filterValue="",this._tooltipText="",this.listItems=[],this.selectedItems=new Set,this.id="nx-multi-select-"+Ne++,this._comboboxId=`${this.id}-combobox`,this.stateChanges=new x.xQ,this.options=[],this.filterPlaceholder="Type to filter",this.selectValue="",this.selectLabel="",this._isOpen=!1,this._onChange=()=>{},this._onTouched=()=>{},this.ngControl&&(this.ngControl.valueAccessor=this),this._isDisabled=this._isDisabled.bind(this)}get value(){return this.options.filter(e=>this.selectedItems.has(e)).map(e=>this._selectValue(e))}get _isOutline(){return"outline"===this._appearance}get _appearance(){var e;return null===(e=this._formFieldComponent)||void 0===e?void 0:e.appearance}get _overlayLabel(){var e;return null===(e=this._formFieldComponent)||void 0===e?void 0:e.label}get empty(){return 0===this.selectedItems.size}get focused(){return this._isOpen||this._inputFocused}get required(){return this._required}set required(e){this._required=e}get disabled(){return this._disabled}set disabled(e){this._disabled=e}get readonly(){return this._readonly}set readonly(e){this._readonly=(0,C.Ig)(e),this.stateChanges.next()}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}set filter(e){this._filter=(0,C.Ig)(e)}get filter(){return this._filter}get shouldLabelFloat(){return this.focused||!this.empty||!!(this.placeholder&&this.placeholder.length>0)}get elementRef(){return this._elementRef}get _allSelected(){return this.selectedItems.size===this.options.filter(e=>!this._isDisabled(e)).length}get _someSelected(){return this.selectedItems.size>0&&!this._allSelected}get _isActiveItemFiltered(){return void 0!==this._keyManager.activeItem&&!this.listItems.some(e=>{var n;return this._selectValue(e)===(null===(n=this._keyManager.activeItem)||void 0===n?void 0:n.value)})}_selectValue(e){return this.selectValue?"string"==typeof this.selectValue?e[this.selectValue]:this.selectValue(e):e}_selectLabel(e){return this.selectLabel?"string"==typeof this.selectLabel?String(e[this.selectLabel]):this.selectLabel(e):String(this._selectValue(e))}_updatePositions(){var e;if(this._formFieldComponent){const n=Y(this._elementRef.nativeElement,this._formFieldComponent.elementRef.nativeElement,null===(e=this._panelHeader)||void 0===e?void 0:e.nativeElement);this._positions=b(this._appearance,n)}}_isDisabled(e){return"string"==typeof this.selectDisabled?e[this.selectDisabled]:"function"==typeof this.selectDisabled&&this.selectDisabled(e)}_getAriaLabelledBy(){var e;const n=this.id,o=null===(e=this._formFieldComponent)||void 0===e?void 0:e.labelId;return o?`${n} ${o}`:n}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}ngAfterViewInit(){this._initKeyManager()}_open(e,n){var o;this._isOpen||(e.preventDefault(),this._filterValue="",this._width=Math.max(260,null===(o=this._trigger)||void 0===o?void 0:o.nativeElement.getBoundingClientRect().width),this._isOpen=!0,this.listItems=this.options.slice().sort((r,a)=>{const _=this.selectedItems.has(r),O=this.selectedItems.has(a);return _&&!O?-1:!_&&O?1:0}),this._openedBy=n)}_close(){var e;this._isOpen=!1,this._updateTooltipText(),null===(e=this._trigger)||void 0===e||e.nativeElement.focus()}_onSelect(e,n){n?this.selectedItems.add(e):this.selectedItems.delete(e),this._onChange(this.value)}_onKeydown(e){var n;if(!this._isOpen)return;const o=e.key;("ArrowUp"===o||"ArrowDown"===o||"Home"===o||"End"===o)&&(this._keyManager.onKeydown(e),this._scrollActiveOptionIntoView(),e.preventDefault()),(window.navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)&&"a"===o&&(this._onSelectAll(),e.preventDefault()),"Tab"===o&&this._keyManager.onKeydown(e),("Enter"===o||""===this._filterValue.trim()&&" "===o)&&(null===(n=this._keyManager.activeItem)||void 0===n||n.selectViaInteraction(),e.preventDefault())}_onTriggerBlur(){this._onTouched()}_onFocusWithinOverlay(e){this._filterInput&&e.target!==this._filterInput.nativeElement&&this._filterInput.nativeElement.focus()}_getAriaActiveDescendant(){return this._keyManager.activeItem?this._keyManager.activeItem.id:null}_onFilterChange(e){var n;this.listItems=e?this.options.filter(o=>this._selectLabel(o).toLowerCase().includes(e.toLowerCase())):this.options.slice(),this._isActiveItemFiltered&&setTimeout(()=>{this._keyManager.setFirstItemActive()}),null===(n=this._optionsList)||void 0===n||n.nativeElement.scrollTo(0,0)}_getValueText(){return this.options.filter(e=>this.selectedItems.has(e)).map(e=>this._selectLabel(e)).join(", ")}_onAttach(){var e;null===(e=this._overlayDir)||void 0===e||e.positionChange.pipe((0,E.q)(1)).subscribe(()=>{var n;const o=this._overlayDir.overlayRef,l=o.getConfig().positionStrategy;this._updatePositions(),l.withPositions(this._positions),o.updatePosition(),null===(n=this._filterInput)||void 0===n||n.nativeElement.focus(),"keyboard"===this._openedBy&&(this._keyManager.setFirstItemActive(),this._scrollActiveOptionIntoView()),this._cdr.markForCheck()})}_onDetach(){this._close()}_onSelectAll(){this._allSelected?this.selectedItems.clear():this.options.filter(e=>!this._isDisabled(e)).forEach(e=>this.selectedItems.add(e)),this._onChange(this.value)}_clear(){this.selectedItems.clear(),this._onChange(this.value)}_clearFilter(){this._filterValue="",this._onFilterChange(this._filterValue)}writeValue(e){if(this.selectedItems.clear(),Array.isArray(e))for(const n of e){const o=this.options.find(l=>this._selectValue(l)===n);o?this.selectedItems.add(o):console.warn("NxMultiSelect: Model contains value that does not exist in given options",n)}this._cdr.markForCheck()}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}updateErrorState(){const e=this.errorState,l=this._errorStateMatcher.isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);l!==e&&(this.errorState=l,this.stateChanges.next())}_updateTooltipText(){if(!this._trigger)return;const[e,n,o]=this._trigger.nativeElement.children,{paddingLeft:l,paddingRight:r}=getComputedStyle(this._trigger.nativeElement);this._tooltipText=this._trigger.nativeElement.clientWidth-parseInt(l,10)-parseInt(r,10)-n.offsetWidth-o.offsetWidth<=e.offsetWidth?this._getValueText():""}_scrollActiveOptionIntoView(){var e;if(!this._keyManager.activeItem)return;const n=this._keyManager.activeItem.elementRef.nativeElement,o=null===(e=this._optionsList)||void 0===e?void 0:e.nativeElement,l=o.scrollTop,r=o.clientHeight,a=n.offsetTop,_=n.offsetTop+n.offsetHeight;a<l?o.scrollTop=a:_>l+r&&(o.scrollTop=_-r)}_initKeyManager(){this._keyManager=new y.s1(this._options).withHomeAndEnd().withVerticalOrientation().withHorizontalOrientation("ltr").skipPredicate(e=>e.disabled),this._keyManager.tabOut.subscribe(()=>this._close())}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.SBq),t.Y36(A.rD),t.Y36(t.sBO),t.Y36(f.VM,8),t.Y36(h.a5,10),t.Y36(h.F,8),t.Y36(h.sg,8))},i.\u0275cmp=t.Xpm({type:i,selectors:[["nx-multi-select"]],viewQuery:function(e,n){if(1&e&&(t.Gf(B,5),t.Gf(H,5),t.Gf(ve,5),t.Gf(Ce,5),t.Gf(m.pI,7),t.Gf(K,5)),2&e){let o;t.iGM(o=t.CRH())&&(n._trigger=o.first),t.iGM(o=t.CRH())&&(n._filterInput=o.first),t.iGM(o=t.CRH())&&(n._optionsList=o.first),t.iGM(o=t.CRH())&&(n._panelHeader=o.first),t.iGM(o=t.CRH())&&(n._overlayDir=o.first),t.iGM(o=t.CRH())&&(n._options=o)}},hostVars:2,hostBindings:function(e,n){2&e&&t.ekj("is-open",n._isOpen)},inputs:{required:"required",disabled:"disabled",readonly:"readonly",placeholder:"placeholder",filter:"filter",options:"options",filterPlaceholder:"filterPlaceholder",selectValue:"selectValue",selectLabel:"selectLabel",selectDisabled:"selectDisabled"},features:[t._Bn([{provide:f.iC,useExisting:i}])],decls:9,vars:11,consts:[["cdkOverlayOrigin","","role","combobox","tabindex","0","aria-haspopup","listbox",1,"value",3,"nxTooltip","id","click","keydown.enter","keydown.space","blur","focus","keydown"],["trigger","","origin","cdkOverlayOrigin"],[1,"value-text"],["size","s","aria-hidden","true","name","chevron-down",1,"indicator"],["cdkConnectedOverlay","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayPush","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","overlayOutsideClick","attach","detach"],["aria-expanded","true","role","combobox","tabindex","-1",1,"panel",3,"keydown","focusin"],["class","panel-header",4,"ngIf"],["class","filter-wrapper",4,"ngIf"],["class","item actions",4,"ngIf"],["role","listbox","aria-multiselectable","true",1,"items",3,"id"],["itemsList",""],["class","item",3,"value","label","selected","disabled","appearance","selectedChange",4,"ngFor","ngForOf"],[1,"panel-header"],["panelHeader",""],[1,"filter-wrapper"],["appearance","auto",1,"filter"],["nxInput","","autocomplete","off",3,"ngModel","placeholder","ngModelChange"],["filterInput",""],["aria-hidden","true","nxFormfieldSuffix","","name","close",1,"clear",3,"click"],[1,"item","actions"],[3,"ngModel","indeterminate","ngModelChange"],["type","button","nxPlainButton","",3,"disabled","click"],[1,"item",3,"value","label","selected","disabled","appearance","selectedChange"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0,1),t.NdJ("click",function(l){return n._open(l,"mouse")})("keydown.enter",function(l){return n._open(l,"keyboard")})("keydown.space",function(l){return n._open(l,"keyboard")})("blur",function(){return n._onTriggerBlur(),n._inputFocused=!1})("focus",function(){return n._inputFocused=!0})("keydown",function(l){return n._onKeydown(l)}),t.TgZ(3,"span",2),t._uU(4),t.qZA(),t.TgZ(5,"span"),t._uU(6),t.qZA(),t._UZ(7,"nx-icon",3),t.qZA(),t.YNc(8,ye,7,10,"ng-template",4),t.NdJ("overlayOutsideClick",function(){return n._close()})("attach",function(){return n._onAttach()})("detach",function(){return n._onDetach()})),2&e){const o=t.MAs(2);t.Q6J("nxTooltip",n._tooltipText)("id",n.id),t.uIk("aria-controls",n._comboboxId)("aria-expanded",n._isOpen)("aria-labelledby",n._getAriaLabelledBy()),t.xp6(4),t.Oqu(n.empty?n.placeholder:n._getValueText()),t.xp6(2),t.Oqu(n.selectedItems.size?"("+n.selectedItems.size+")":""),t.xp6(2),t.Q6J("cdkConnectedOverlayPositions",n._positions)("cdkConnectedOverlayWidth",n._width)("cdkConnectedOverlayOrigin",o)("cdkConnectedOverlayOpen",n._isOpen)}},directives:[v.O8,f.VM,k.Wi,V.qw,K,m.xu,L.A2,m.pI,p.O5,R.aP,h.Fj,h.JJ,h.On,f.J2,p.sg],styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%}.panel[_ngcontent-%COMP%]{width:100%;box-shadow:var(--shadow-small);border-radius:4px;background:var(--ui-01)}.panel.is-outline[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]{--formfield-label-height: 8px;--formfield-bottom-padding: 8px}.panel.is-outline[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]{padding-bottom:8px;max-height:200px}.value[_ngcontent-%COMP%]{display:grid;align-items:center;width:100%;height:100%;max-width:100%;cursor:pointer;grid-template-columns:auto -webkit-min-content -webkit-min-content;grid-template-columns:auto min-content min-content}.value[_ngcontent-%COMP%]:focus{outline:none}.value[_ngcontent-%COMP%]::-moz-focus-inner{border:0}.value-text[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;padding-right:8px}.panel-header[_ngcontent-%COMP%]{font-size:var(--formfield-label-font-size);line-height:var(--formfield-label-line-height);font-weight:var(--formfield-label-font-weight);letter-spacing:var(--formfield-label-letter-spacing);color:var(--dropdown-panel-header-text-color);background-color:var(--dropdown-panel-header-background-color);padding:8px 32px;border-top-left-radius:4px;border-top-right-radius:4px}.label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){font-weight:600;margin-left:auto;padding-right:12px;flex:0 0 auto}.indicator[_ngcontent-%COMP%]{transform:rotate(0)}.is-open[_nghost-%COMP%]   .indicator[_ngcontent-%COMP%]{transform:rotate(180deg)}.items[_ngcontent-%COMP%]{list-style:none;max-height:272px;overflow-y:auto;position:relative;padding:0 32px 12px}.filter-wrapper[_ngcontent-%COMP%]{padding:0 32px}.filter[_ngcontent-%COMP%]{width:100%}.border[_ngcontent-%COMP%]{padding-top:8px;margin-top:8px;border-top:1px solid lightgrey}.toggle[_ngcontent-%COMP%]{width:100%;display:block}.actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;white-space:nowrap;padding:8px 32px}.clear[_ngcontent-%COMP%]{cursor:pointer}.hidden[_ngcontent-%COMP%]{display:none}"],changeDetection:0}),i})(),Le=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[p.ez,f._0,k.R0,m.U8,y.rt,v.cf,F.Q8,h.u5,L.K$,V.ru,R.ZI]]}),i})()}}]);