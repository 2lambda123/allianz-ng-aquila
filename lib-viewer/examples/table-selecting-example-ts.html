<span class="hljs-keyword">import</span> { Component } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;
<span class="hljs-keyword">import</span> { SelectionModel } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/cdk/collections'</span>;

<span class="hljs-keyword">interface</span> Contract {
  product: <span class="hljs-built_in">string</span>;
  contractNumber: <span class="hljs-built_in">number</span>;
  website: <span class="hljs-built_in">string</span>;
  endingAt: <span class="hljs-built_in">Date</span>;
  status: <span class="hljs-built_in">string</span>;
  statusText: <span class="hljs-built_in">string</span>;
}

<span class="hljs-comment">/**
* @title Selecting Example
*/</span>
<span class="hljs-meta">@Component</span>({
  styleUrls: [<span class="hljs-string">'table-selecting-example.css'</span>],
  templateUrl: <span class="hljs-string">'./table-selecting-example.html'</span>
})
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> TableSelectingExampleComponent {
  showSelected: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span>;

  tableElements: Contract[] = [
    {
      product: <span class="hljs-string">'Car'</span>,
      contractNumber: <span class="hljs-number">1234</span>,
      website: <span class="hljs-string">'www.example.com'</span>,
      endingAt: <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-string">'1/3/2020'</span>),
      status: <span class="hljs-string">'negative'</span>,
      statusText: <span class="hljs-string">'open'</span>
    },
    {
      product: <span class="hljs-string">'Health'</span>,
      contractNumber: <span class="hljs-number">2423</span>,
      website: <span class="hljs-string">'www.aposin.org'</span>,
      endingAt: <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-string">'4/2/2020'</span>),
      status: <span class="hljs-string">'positive'</span>,
      statusText: <span class="hljs-string">'accepted'</span>
    },
    {
       product: <span class="hljs-string">'Car'</span>,
       contractNumber: <span class="hljs-number">353455</span>,
       website: <span class="hljs-string">'www.example.com'</span>,
       endingAt: <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-string">'6/2/2020'</span>),
       status: <span class="hljs-string">'positive'</span>,
       statusText: <span class="hljs-string">'accepted'</span>
    },
    {
      product: <span class="hljs-string">'Home'</span>,
      contractNumber: <span class="hljs-number">22344</span>,
      website: <span class="hljs-string">'www.example.org'</span>,
      endingAt: <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-string">'1/2/2027'</span>),
      status: <span class="hljs-string">'critical'</span>,
      statusText: <span class="hljs-string">'rejected'</span>
    }
  ];

  selection = <span class="hljs-keyword">new</span> SelectionModel&lt;Contract&gt;(<span class="hljs-literal">true</span>, []);

  <span class="hljs-comment">/** Whether the number of selected elements matches the total number of rows. */</span>
  isAllSelected() {
    <span class="hljs-keyword">const</span> numSelected = <span class="hljs-keyword">this</span>.selection.selected.length;
    <span class="hljs-keyword">const</span> numRows = <span class="hljs-keyword">this</span>.tableElements.length;
    <span class="hljs-keyword">return</span> numSelected === numRows;
  }

  <span class="hljs-comment">/** Selects all rows if they are not all selected; otherwise clear selection. */</span>
  toggleAll() {
    <span class="hljs-keyword">this</span>.isAllSelected() ?
        <span class="hljs-keyword">this</span>.selection.clear() :
        <span class="hljs-keyword">this</span>.tableElements.forEach(<span class="hljs-function"><span class="hljs-params">row</span> =&gt;</span> <span class="hljs-keyword">this</span>.selection.select(row));
  }
}
