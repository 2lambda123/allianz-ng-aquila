<div class="docs-deprecation-warning">
<strong>Work in progress / Experimental</strong>
The overlay service is provided as a beta preview. Breaking changes may still likely be introduced outside of major versions until the service is
considered stable.
</div>
<h3 id="purpose" class="docs-markdown--h3">Purpose</h3>
<p class="docs-markdown--p">The overlay service provides reusable functionality to open any kind of content in an overlay panel that is attached to another element. Components that open these overlay panels in the library are e.g. the dropdown, context menu or the autocomplete. While these serve specific purposes this service can be used to create custom menus or autocomplete style components.</p>
<h3 id="features" class="docs-markdown--h3">Features</h3>
<p class="docs-markdown--p">Here are some features and advantages you get by using the service</p>
<ul class="docs-markdown--ul">
<li class="docs-markdown--li">Style consistency of the overlay</li>
<li class="docs-markdown--li">Access to the defined positioning logic of overlays including the fallback logic</li>
<li class="docs-markdown--li">Focus trap into the overlay for better accessibility</li>
<li class="docs-markdown--li">Configurable backdrops and closing behavior</li>
</ul>
<h3 id="angular-cdk" class="docs-markdown--h3">Angular CDK</h3>
<p class="docs-markdown--p">Under the hood the service is using the <a href="https://material.angular.io/cdk/overlay/overview">CDK overlay</a>. You can learn more about position and scroll strategies in the CDK documentation.</p>
<h3 id="accessibility" class="docs-markdown--h3">Accessibility</h3>
<p class="docs-markdown--p">It is important to notice that the content that gets put into the overlay has to implement the specific accessibility patterns it needs. The service only takes care of accessibility features around the content, like closing or focus trapping. As an example a dropdown or autocomplete has to implement the role listbox, the context menu in contrast implements role menu.
The role can be either set on the overlay wrapper directly via the configuration or can come from the content component.</p>
<h4 id="focus-trap-and-keyboard-navigation" class="docs-markdown--h4">Focus trap and keyboard navigation</h4>
<p class="docs-markdown--p">By default the focus gets trapped into the overlay that keyboard and screen reader users can navigate inside the content. Pressing escape closes the overlay.
The focus trap can be turned off via the configuration for tooltip style patterns that only serve optional content that is presented differently to the user via a live region or with aria-describedby.</p>
<h3 id="positioning" class="docs-markdown--h3">Positioning</h3>
<p class="docs-markdown--p">You can use the predefined directions <code>top</code>, <code>top-start</code>, <code>top-end</code>, <code>bottom</code>, <code>bottom-start</code>, <code>bottom-end</code>, <code>left</code> or <code>right</code> which all have fallback positions if the overlay doesn't fit into the direction.</p>
<div nx-docs-example="overlay-positioning">exampleID: overlay-positioning</div>
<h3 id="limiting-fallbacks" class="docs-markdown--h3">Limiting Fallbacks</h3>
<p class="docs-markdown--p">Depending on the requirements of your overlay you can limit the fallbacks the overlay can choose by setting the <code>fallbackOrientation</code> option in the configuration. By default the overlay will choose fallbacks clockwise from the starting direction.</p>
<div nx-docs-example="overlay-limiting-fallbacks">exampleID: overlay-limiting-fallbacks</div>
